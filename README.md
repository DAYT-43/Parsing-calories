# Parsing-calories
Collect information from the website on the caloric content of products and their composition
# –ü–∞—Ä—Å–∏–Ω–≥ –Ω–∞ Python - —Å–∞–π—Ç —Å –∫–∞–ª–æ—Ä–∏—è–º–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

![Screenshot from 2023-09-06 06-10-00.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/7e4285c8-c355-457c-86d7-9b6905c7adce/2bce39a2-8943-4314-93d0-a9115afb72e0/Screenshot_from_2023-09-06_06-10-00.png)

### –ü—Ä–µ–¥–∏—Å–ª–æ–≤–∏–µ:

–í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ —è –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é –ø–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ –∫–∞–ª–æ—Ä–∏—è–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤ https://health-diet.ru/table_calorie/ .

–ü**–∞—Ä—Å–∏–Ω–≥**¬†‚Äì¬†**—ç—Ç–æ**¬†–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º –∏–ª–∏ –ø–æ–¥ –∫–∞–∫–∏–µ-—Ç–æ –∑–∞–¥–∞—á–∏. –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ,¬†**–ø–∞—Ä—Å–µ—Ä—ã**¬†‚Äì —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö. –°–æ–±–∏—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –ª—é–±—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –¢–∞–º –≥–¥–µ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã—á–ª–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é, —Ç–∞–º –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏¬†**–ø–∞—Ä—Å–∏–Ω–≥**, –≥–ª–∞–≤–Ω–æ–µ –ø–æ–¥–æ–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —ç—Ç–æ–≥–æ

–†–µ—à–µ–Ω–∏–µ –¥–∞–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏ –±—ã–ª–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —É—á–µ–±–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ–±—ã –µ—â–µ –±–æ–ª—å—à–µ –æ—Ç—Ç–æ—á–∏—Ç—å —Å–≤–æ–∏ –Ω–∞–≤—ã–∫–∏ –≤ –ø–∞—Ä—Å–∏–Ω–≥–µ —Å–∞–π—Ç–æ–≤. 

*–ù–∞ –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç–∏–∫ –∏ —Å–∫—Ä–∏–Ω –Ω–∞ –∫–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ –¥–µ–ª–∞–ª, –ø–æ—Å–∫–æ–ª—å–∫—É –¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –∫–∞–∫ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è, –∞ –Ω–µ —É—á–µ–±–Ω–æ–µ –ø–æ—à–∞–≥–æ–≤–æ–µ –ø–æ—Å–æ–±–∏–µ.*

### –í –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º:

–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è - Python;

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ø–ü -  requests, BeautifulSoup

–ú–æ–¥—É–ª–∏ –Ø–ü - random, time

–°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª—ã –≤ —Ñ–æ—Ä–º–∞—Ç - Json, CSV, html


### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π:

- –°–Ω–∞—á–∞–ª–∞ –∑–∞–±–∏—Ä–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å —Å–∞–π—Ç–∞ –∏ –ø–æ—Å–ª–µ –æ–ø–µ—Ä–∏—Ä—É–µ–º –µ–π
    
    ```python
    import random
    from time import sleep
    import requests
    from bs4 import BeautifulSoup
    import json
    import csv
    
    # **–°–æ—Ö—Ä–∞–Ω—è–µ–º –∫–æ–ø–∏—é —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å–∞–π—Ç–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Å–ª–µ —Ä–∞–±–æ—Ç–∞–µ–º —Å –Ω–µ–π** #
     url = "https://health-diet.ru/table_calorie/"
     #
     headers = {
         "Accept": "text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.",
         "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"
     }
    # # #
     req = requests.get(url, headers=headers)
     src = req.text
     print(src)
    
     with open("index.html", "w", encoding="utf-8") as file:
         file.write(src)
     
    ```
    
- –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Å—ã–ª–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —Å–æ–±–∏—Ä–∞–µ–º –∏—Ö –ø–æ –æ–±—â–µ–º—É –∫–ª–∞—Å—Å—É, –¥–æ–±–∞–≤–ª—è–µ–º –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
    
    ```python
    with open("index.html", encoding="utf-8") as file:
        src = file.read()
    
    soup = BeautifulSoup(src, "lxml")
    all_products_hrefs = soup.find_all(class_="mzr-tc-group-item-href")
    
    for item in all_products_hrefs:
        # print(item)
        item_text = item.text
        item_href = "https://health-diet.ru" + item.get("href")
        # print(f"{item_text}: {item_href}")
     
    ```
    
- –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ —Å–ª–æ–≤–∞—Ä—å
    
    —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª–æ–≤–∞—Ä—å, —Å–æ–∑–¥–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `all_categories_dict = {}` –∏ –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ —Ü–∏–∫–ª–∞ –±—É–¥–µ–º –Ω–∞–ø–æ–ª–Ω—è—Ç—å –Ω–∞—à —Å–ª–æ–≤–∞—Ä–∏–∫  `all_categories_dict[item_text] = item_href` –≤ –∫–æ—Ç–æ—Ä–æ–º –∫–ª—é—á–∏, —ç—Ç–æ –∏–º–µ–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –∞ –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–æ —Å—Å—ã–ª–∫–∏ `[item_text] = item_href`
    
    ```python
    
     all_categories_dict = {}
    for item in all_products_hrefs:
        # print(item)
        item_text = item.text
        item_href = "https://health-diet.ru" + item.get("href")
        # print(f"{item_text}: {item_href}")
    
        all_categories_dict[item_text] = item_href
    ```
    
- –°–æ—Ö—Ä–∞–Ω–∏–º –Ω–∞—à —Å–ª–æ–≤–∞—Ä—å –≤ json —Ñ–∞–π–ª
    
    <aside>
    üí° –æ—á–µ–Ω—å —á–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–π –≤ json —Ñ–∞–π–ª –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ —Å—ä–∫–æ–Ω–æ–º–∏—Ç –≤–∞–º –ø–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
    
    </aside>
    
    ```python
    
    with open("index.html", encoding="utf-8") as file:
        src = file.read()
    
    soup = BeautifulSoup(src, "lxml")
    all_products_hrefs = soup.find_all(class_="mzr-tc-group-item-href")
    
    all_categories_dict = {}
    for item in all_products_hrefs:
        # print(item)
        item_text = item.text
        item_href = "https://health-diet.ru" + item.get("href")
        # print(f"{item_text}: {item_href}")
    
        all_categories_dict[item_text] = item_href
    
    with open("all_categories_dict.json", "w", encoding="utf-8") as file:
        json.dump(all_categories_dict, file, indent=4, ensure_ascii=False)
    ```
    
- –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–µ–º –∫–æ–¥ –≤—ã—à–µ –∏ –∑–∞–≥—Ä—É–∑–∏–º –Ω–∞—à —Ñ–∞–π–ª –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `all_categories`
    
    ```python
    with open("all_categories_dict.json") as file:
        all_categories = json.load(file)
    ```
    
    –£–±–µ–¥–∏–ª–∏—Å—å, —á—Ç–æ –≤—Å–µ –æ–∫ 
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2a9407a4-684f-435f-b1c2-dbdf004db203/Untitled.png)
    
- –°–æ–∑–¥–∞–µ–º —Ü–∏–∫–ª –Ω–∞ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Å–æ–±–∏—Ä–∞—Ç—å —Å –Ω–µ–µ –¥–∞–Ω–Ω—ã–µ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∏ —Ö–∏–º. —Å–æ—Å—Ç–∞–≤–µ –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å–µ –≤ —Ñ–∞–π–ª. –¢–∞–∫–∂–µ –ø—Ä–æ–±–µ–ª—ã –∏–∑ –∑–Ω–∞–∫–∏ –ø—Ä–µ–ø–∏–Ω–∞–Ω–∏—è –∑–∞–º–µ–Ω–∏–º –Ω–∞ –Ω–∏–∂–Ω–∏–π —Å–ª—ç—à, –¥–ª—è –±–æ–ª–µ–µ –ª–∞–∫–æ–Ω–∏—á–Ω–æ–≥–æ —Å–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∏–º–µ–Ω
    
    ```python
    iteration_count = int(len(all_categories)) - 1
    count = 0
    print(f"–í—Å–µ–≥–æ –∏—Ç–µ—Ä–∞—Ü–∏–π: {iteration_count}")
    
    for category_name, category_href in all_categories.items():
    ```
    
    ```python
    # –º–µ—Ç–æ–¥ replace –¥–ª—è –∑–∞–º–µ–Ω—ã –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ —Å—Ä–∞–∑—É –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —ç–ª–µ–º–µ–Ω—Ç–∞–º
    rep = [",", " ", "-", "'"]
         for item in rep:
             if item in category_name:
                 category_name = category_name.replace(item, "_")
    # –µ—Å–ª–∏ —Å–∏–º–≤–æ–ª –µ—Å—Ç—å –≤ –∏–º–µ–Ω–∏, —Ç–æ –º–µ–Ω—è–µ–º –µ–≥–æ –Ω–∞ –Ω–∏–∂–Ω–∏–π —Å–ª—ç—à
    ```
    
- –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –∑–∞–ø—Ä–æ—Å–∞–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, —Ä–∞—Å—Å–∫–æ–º–µ–Ω—Ç–∏—Ä—É–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ (headers), —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ —Å–Ω–æ–≤–∞ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –°–æ–∑–¥–∞–¥–∏–º –ø–∞–ø–∫—É data, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç—É–¥–∞ –∏ —Å–¥–µ–ª–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π (—Å–º–æ—Ç—Ä–∏ –≤—ã—à–µ –≤ –ø.6 –≥–¥–µ count = 0)
    
    ```python
    req = requests.get(url=category_href, headers=headers)
        src = req.text
    # —Å–æ—Ö—Ä–∞–Ω–∏–º –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é src 
    with open(f"data/{count}_{category_name}.html", "w") as file:
            file.write(src)
    ```
    
    –ù–æ –ø—Ä–µ–∂–¥–µ —á–µ–º –±–æ–º–±–∏—Ç—å —Å–∞–π—Ç –∑–∞–ø—Ä–æ—Å–∞–º–∏, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞—à –∫–æ–¥ –Ω–∞ –æ–¥–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å –ø–æ–º–æ—â—å—é if  
    
    ```python
    count = 0
    for category_name, category_href in all_categories.items():
        if count == 0:
            rep = [",", " ", "-", "'"]
            for item in rep:
                if item in category_name:
                    category_name = category_name.replace(item, "_")
        # print(category_name)
    #
        req = requests.get(url=category_href, headers=headers)
        src = req.text
    #
        with open(f"data/{count}_{category_name}.html", "w") as file:
            file.write(src)
      count += 1
    # count += 1 –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏–º—è —Ñ–∞–π–ª–∞ –Ω–∞ 1
    ```
    
    ```python
    #  –æ—Ç–∫—Ä–æ–µ–º –∏ —Å–æ—Ö—Ä–∞–Ω–∏–º –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é src
    with open(f"data/{count}_{category_name}.html") as file:
            src = file.read()
    # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å—É–ø–∞
    soup = BeautifulSoup(src, "lxml")
    # —Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Å–∞–π—Ç–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –∫–∞–ª–æ—Ä–∏–π
      
    ```
    
    ```python
     # —Å–æ–±–∏—Ä–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ —Ç–∞–±–ª–∏—Ü—ã
            # –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–ø–∏—Å–æ–∫, –º—ã –º–æ–∂–µ–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ –Ω–µ–º—É –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º
    table_head = soup.find(class_="mzr-tc-group-table").find("tr").find_all("th")
        product = table_head[0].text
        calories = table_head[1].text
        proteins = table_head[2].text
        fats = table_head[3].text
        carbohydrates = table_head[4].text
    # –ó–∞–ø–∏—à–µ–º –≤ —Ñ–∞–π–ª—ã csv –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–æ–¥—É–∫—Ç—ã, —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ writer.writerow –ø–µ—Ä–µ–¥–∞–µ–º 5 –æ–±—ä–µ–∫—Ç–æ–≤
        with open(f"data/{count}_{category_name}.csv", "w", encoding="utf-8") as file:
            writer = csv.writer(file)
            writer.writerow(
                (
                    product,
                    calories,
                    proteins,
                    fats,
                    carbohydrates
                )
            )
    
        count += 1
                )
            )
    ```
    
- –°–æ–±–µ—Ä–µ–º –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ —Ç–µ–≥–µ tbody –∏–∑ —Ç–µ–≥–æ–≤ tr
    
    –∏ –¥–∞–ª–µ–µ –≤ —Ü–∏–∫–ª–µ —Å–æ–±—Ä–µ—Ä–µ–º –≤—Å–µ td —Ç–µ–≥–∏ 
    
    ```python
     products_data = soup.find(class_="mzr-tc-group-table").find("tbody").find_all("tr")
    
        product_info = []
        for item in products_data:
            product_tds = item.find_all("td")
    
            title = product_tds[0].find("a").text
            calories = product_tds[1].text
            proteins = product_tds[2].text
            fats = product_tds[3].text
            carbohydrates = product_tds[4].text
    ```
    
- –ó–∞–ø–∏—à–µ–º —Å–Ω–æ–≤–∞ –≤ –Ω–∞—à–∏ csv —Å–∫–æ–ø–∏—Ä—É–µ–º –∫–æ–¥ —Å –æ–¥–Ω–∏–º –æ—Ç–ª–∏—á–∏–µ–º, –≤–º–µ—Å—Ç–æ ‚Äúw‚Äù write (–∑–∞–ø–∏—Å–∞—Ç—å), –ø–æ—Å—Ç–∞–≤–∏–º ‚Äúa‚Äù , —á—Ç–æ –∑–Ω–∞—á–∏—Ç –¥–æ–±–∞–≤–∏—Ç—å append
    
    ```python
     with open(f"data/{count}_{category_name}.csv", "a", encoding="utf-8") as file:
            writer = csv.writer(file)
            writer.writerow(
                (
                    product,
                    calories,
                    proteins,
                    fats,
                    carbohydrates
                )
            )
    ```
    
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–¥–∞, –Ω–∞–º –≤—ã–ø–∞–¥–µ—Ç –æ—à–∏–±–∫–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ –æ–¥–Ω–æ–π –∏–∑ —Å—Å—ã–ª–æ–∫, –∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ—Ç —Ç–∞–±–ª–∏—Ü—ã, –ø–æ—ç—Ç–æ–º—É –º—ã –¥–æ–ø–∏—à–µ–º  —É—Å–ª–æ–≤–∏–µ
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/31fa5538-0a0a-403a-ac50-d53eb0009dea/Untitled.png)
    
    ```python
     # –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–±–ª–∏—Ü—ã —Å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏
        alert_block = soup.find(class_="uk-alert-danger")
        if alert_block is not None:
            continue
    ```
    
- C–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –≤ –∫–æ—Ç–æ—Ä—É—é –ø–æ–ª–æ–∂–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –¢–∞–∫ –∫–∞–∫ –Ω–∞—à count –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –Ω—É–ª—è , –æ—Ç–Ω–∏–º–µ–º –µ–¥–∏–Ω–∏—Ü—É –æ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ len –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –æ–±–µ—Ä–Ω—É–≤ –≤ —Å—Ç—Ä–æ–∫—É, –ø–æ—Å–∫–æ–ª—å–∫—É len –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å—Ç—Ä–æ–∫–∏
    
    ```python
    iteration_count = int(len(all_categories)) - 1
    count = 0
    print(f"–í—Å–µ–≥–æ –∏—Ç–µ—Ä–∞—Ü–∏–π: {iteration_count}")
    ```
    
- –î–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –≤—ã–≤–µ–¥–µ–º –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞ –ø—Ä–∏–Ω—Ç
    
    ```python
    print(f"# –ò—Ç–µ—Ä–∞—Ü–∏—è {count}. {category_name} –∑–∞–ø–∏—Å–∞–Ω...")
    # –û—Ç–Ω–∏–º–∞–µ–º –µ–¥–∏–Ω–∏—Ü—É –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π
    iteration_count = iteration_count - 1
    # —Ç–∞–∫–∂–µ –¥–æ–ø–∏—à–µ–º —É—Å–ª–æ–≤–∏–µ, –∫–æ–≥–¥–∞ –∏—Ç–µ—Ä–∞—Ü–∏–π –æ—Å—Ç–∞–µ—Ç—Å—è 0, –ø–µ—á–∞—Ç–∞–µ–º –†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∏ –≤—ã—Ö–æ–¥–∏–º –∏–∑ —Ü–∏–∫–ª–∞
    if iteration_count == 0:
            print("–†–∞–±–æ—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞")
            break
    print(f"–û—Å—Ç–∞–ª–æ—Å—å –∏—Ç–µ—Ä–∞—Ü–∏–π: {iteration_count}")
    # –ü–æ—Å–∫–æ–ª—å–∫—É —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –∏–¥–µ—Ç –±—ã—Å—Ç—Ä–æ, –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ—Å—Ç–∏ –¥–æ–±–∞–≤–∏–º —Ä–∞–Ω–¥–æ–º–Ω—É—é –∑–∞–¥–µ—Ä–∂–∫—É
    sleep(random.randrange(2, 4))
    ```
    
- –¢–∞–∫–∂–µ —Å–æ–∑–¥–∞–¥–∏–º json —Ñ–∞–π–ª –∏ –≤ –Ω–µ–≥–æ –º—ã –±—É–¥–µ–º —Å–æ–±–∏—Ä–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è
    
    ```python
    #–¥–æ–±–∞–≤–ª—è–µ–º csv –∏ json 
    product_info.append(
                {
                    "Title": title,
                    "Calories": calories,
                    "Proteins": proteins,
                    "Fats": fats,
                    "Carbohydrates": carbohydrates
                }
            )
    
            with open(f"data/{count}_{category_name}.csv", "a", encoding="utf-8") as file:
                writer = csv.writer(file)
                writer.writerow(
                    (
                        title,
                        calories,
                        proteins,
                        fats,
                        carbohydrates
                    )
                )
        with open(f"data/{count}_{category_name}.json", "a", encoding="utf-8") as file:
            json.dump(product_info, file, indent=4, ensure_ascii=False)
    ```
    
- –ò—Ç–æ–≥–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- –¢–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

![Screenshot from 2023-09-06 06-03-06.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/7e4285c8-c355-457c-86d7-9b6905c7adce/647718e5-d573-4e19-abf5-5de0ae22a420/Screenshot_from_2023-09-06_06-03-06.png)

–¢–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤—ã–≥—Ä—É–∑–∫–∞ –≤ json —Ñ–∞–π–ª–µ:

![Screenshot from 2023-09-06 06-02-52.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/7e4285c8-c355-457c-86d7-9b6905c7adce/8ee9c08b-e064-46a2-ad8b-7ad0dab44dbc/Screenshot_from_2023-09-06_06-02-52.png)

–¢–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –≤—ã–≥—Ä—É–∑–∫–∞ CSV —Ñ–∞–π–ª–∞:

![Screenshot from 2023-09-06 06-20-55.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/7e4285c8-c355-457c-86d7-9b6905c7adce/803649d2-14b5-47e8-8078-3ade5cd41025/Screenshot_from_2023-09-06_06-20-55.png)
